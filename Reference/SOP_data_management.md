### SOP for Data Management

This document describes 1) the file structure of the repository and 2) provides an example workflow. 

#### File Structure

The file of structure of this repository mimics the workflow used to move from data generation to final figures. A description of the files in each folder is as follows:

- `01_model_scripts/`: folder containing the models developed to generate data used in the analysis
  - *model*`.R`: R script for each *model* 
  - `README.md`: Contains information on the purpose, differences, assumptions, reference points, and inputs/outputs for models
- `02_run_models/`: parent folder for different model runs 
  - *model*`.rmd`: R Markdown document to source and run the *model*
  - `README.md`: Tracks the different model runs and associated data and code files, should be updated after every model run  
- `03_model_output/`: folder containing the cvs output from the `02_run_models` folder
  - *model_run*`.csv` : csv file of the output for each *model run*
- `04_process_data_code/`: folder containing code for processing model run outputs
  - *model_run*`.rmd`: R Markdown containing the code to process the *model run* output into data to use in the analysis
- `05_analysis_data/`: folder for analysis data generated by the processing code contained in the `04_process_data_code` folder
  - *model_run_analysis*`.csv`: file of data for each *model run* to use in the analysis code; csv format
- `06_analysis_code/`: folder containing code to analyze data 
  - *analysis*`.rmd`: R Markdown file to run an *analysis* and generate any tables or figures
- `07_figures/` : folder containing figures generated through code in the `06_analysis_code` folder
  - *figure*`.png`: png image output for each *figure* 
- `References/`: folder containing reference material
  - `SOP_data_management.md`: this file, provides information on file structure and example workflow
  - `climate_scenarios.md`: gives examples of paces and magnitudes of climate change which can be used as the r_s input  

#### Example Workflow

This repository contains a full example of the code used to generate one of the final figures found in the report. The README in the `02_run_models` folder, found [here](./02_run_models/README.md), has been updated to track to the data files and code files generated as part of this example. This example uses the model `sim_fishery`, and generates the following data and code.  

- `02_run_models`: example_simulations.rmd 
  - R Markdown script that sources the model and walks through how to use the model to generate data, add identifiers, and save as a csv file to the `03_model_output` folder
- `03_model_output`: example_results.csv
  - A csv file containing the full model output
- `04_process_data_code:` example_process_code.rmd
  - R Markdown that reads in the model output data, adds new columns to help with graphing, filters and combines with other model runs, saves csv file to `05_analysis_data` folder 
- `05_analysis_data`: ex_analysis_data.csv
  - A csv file containing the filtered and combined data for graphing and analysis
- `06_analysis_code`: example_analysis.rmd
  - R Markdown that calculates the proportion of healthy fisheries based on an action of interest and generates a finalized graph, saves that graph to the `07_figures` folder  
- `07_figures`: example_figure.png 
  - A png image, saved with transparent background, that can be used for presentations and reports  
    